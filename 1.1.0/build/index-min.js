/*!build time : 2014-08-11 9:38:34 AM*/
KISSY.add("kg/xdialog/1.0.0/index",function(a,b){var c={title:"\u4f60\u786e\u5b9a\u8981\u6267\u884c\u5417",html:"\u70b9\u51fb\u786e\u5b9a\uff0c\u547d\u4ee4\u5c06\u4f1a\u7acb\u5373\u6267\u884c\u4e14\u4e0d\u53ef\u9006\u3002"},d=function(b){this.options=a.merge(c,b||{}),this.init()};return a.augment(d,{init:function(){var c=this,d='<div class="dialog-overlay"></div><div class="dialog-popup"></div>';b.one(".container").addClass("dialog-overlay-blur"),a.DOM.insertAfter(a.DOM.create(d),".container");var e=b.one(".dialog-popup");c.options.title&&e.append('<div class="dialog-header"><h3>'+c.options.title+"</h3></div>"),c.options.html&&e.append('<div class="dialog-content">'+c.options.html+"</div>"),e.append('<div class="dialog-footer"><button class="no">\u53d6\u6d88</button><button class="yes">\u786e\u5b9a</button></div>'),c.bindEvent()},close:function(){a.DOM.remove(".dialog-overlay"),a.DOM.remove(".dialog-popup"),b.one(".container").removeClass("dialog-overlay-blur")},bindEvent:function(a){var c=this,a=c.options.action;b.one(".dialog-footer .yes").on("click",function(){a.call(),c.close()}),b.one(".dialog-footer .no").on("click",function(){c.close()}),document.addEventListener("keyup",function(a){27===a.keyCode&&c.close()},!1)}}),d},{requires:["node","base","event"]});